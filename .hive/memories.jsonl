{"id":"mem-1be1955ff29d5682","information":"FlowBundle::executor in host-inproc downcasts Arc<dyn NodeResolver> (NodeResolver: Any) to Arc<NodeRegistry> to construct FlowExecutor; allows NodeRegistry to serve as resolver while keeping FlowBundle generic.","created_at":"2026-01-27T00:29:34.962Z","tags":"host-inproc,flowbundle,noderesolver,flowexecutor"}
{"id":"mem-2fd95fd775eadb47","information":"Exposed kernel-exec NodeHandler trait and NodeRegistry::handler as public to allow host-inproc NodeResolver to return Arc<dyn NodeHandler>.","created_at":"2026-01-27T00:23:26.550Z","tags":"kernel-exec,nodehandler,visibility,host-inproc"}
{"id":"mem-51ab460fe7e9e83b","information":"Implemented workflow_bundle macro parsing entrypoint! blocks (trigger/capture/route/method as string literals, deadline_ms as u64) and deriving register paths by replacing `_node_spec` with `_register` while preserving any module path prefix in bindings.","created_at":"2026-01-27T00:42:40.405Z","tags":"dag-macros,workflow_bundle,entrypoint,register"}
{"id":"mem-8134131580c6099e","information":"VoiceOrchestrator tests: timeout callbacks call async trigger without await; in tests, call timer.fn then await a tick to observe state change. Orchestrator schedules timeouts when entry.timeoutMs/timeoutAt present and clears timeout on explicit trigger.","created_at":"2026-01-27T00:11:50.853Z","tags":"opencode,smart-voice-notify,voice-orchestrator,tests"}
{"id":"mem-aa4308e55f29de62","information":"Added bun test preload stub for node-notifier to avoid missing dependency in opencode-smart-voice-notify tests. After stubbing, rich-notifications.e2e still fails because rich pipeline not invoked (global fetch not called, TTS immediate), indicating unrelated config/logic issue.","created_at":"2026-01-27T00:33:31.854Z","tags":"opencode,smart-voice-notify,tests,node-notifier,bun"}
{"id":"mem-b9893872fb75b9a9","information":"Resolved rich notification decisions for opencode-smart-voice-notify: use experimental.richNotifications.triggers.attentionTimeoutSeconds (0 immediate, null/undefined wait indefinitely, >0 wait N seconds); add experimental.richNotifications.apiKey/endpoint with env fallback (OPENCODE_RICH_NOTIFY_API_KEY/ENDPOINT) before aiApiKey/aiEndpoint; Phase 1 events scope is ['idle']; TTS audio pre-generated and cached with voiceText + audio.localPath; VoiceOrchestrator handles single-play with CAS trigger precedence, FIFO multi-session (max 10), /catchup plays all; rich notifications replace reminder system when enabled.","created_at":"2026-01-27T00:00:18.341Z","tags":"opencode,smart-voice-notify,implementation-plan,decisions"}
{"id":"mem-eb7d1103abe44f53","information":"Added rich AI pipeline utilities for opencode-smart-voice-notify: fetchContext collects session/messages/tools with context budget truncation; buildSchema provides notification fields; buildPrompt formats session/tool/message context; structured generator wraps schema in OpenRouter json_schema response_format with 10s timeout and JSON parsing.","created_at":"2026-01-27T00:11:00.067Z","tags":"opencode,smart-voice-notify,ai-pipeline,openrouter,json-schema"}
{"id":"mem-f801dde173dc9a43","information":"Added util/rich-config.js with defaults from implementation plan and credential precedence (rich config -> env -> base ai config), plus tests covering defaults, overrides, and enablement checks.","created_at":"2026-01-27T00:08:18.058Z","tags":"opencode,rich-config,credentials,tests"}
{"id":"mem-f9e348d419e638aa","information":"Running bun e2e tests for opencode-smart-voice-notify fails with missing dependency: Cannot find package 'node-notifier' from util/desktop-notify.js. Environment lacks node-notifier; tests need stub or dependency install.","created_at":"2026-01-27T00:25:53.155Z","tags":"opencode,smart-voice-notify,tests,dependency,node-notifier"}